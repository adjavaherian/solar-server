<!DOCTYPE html>
<html>
<head>
  <title>Solar Server Config Success</title>
  <meta http-equiv="Content-type" content="text/html; charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="/bootstrap.min.css" type="text/css">
  <script type="text/javascript" src="/jquery.js"></script>
  <script>
    function getData() {
      $.ajax({
        url: "/all",
        type: 'GET',
        success: function(res) {
          console.log(res);

          var hostURL = 'http://solar-server.local';

          if(res.host) {
            hostURL = 'http://'+res.host+'.local';
          }

          $('#reboot-target').attr('href', hostURL);
          $('#host-url').attr('href', hostURL).html(hostURL);
          $('#ssid').html(res.ssid);
        }
      });
    }
    $(document).ready(function(){
      getData();
    });
  </script>
</head>
<body id="index" style="margin:0; padding:0;">

  <div class="container">
        <div class="header clearfix">
          <h3 class="text-muted">Solar Server &#x1F33B; &#x2795; &#x1F4F7;</h3>
        </div>

        <div class="jumbotron">
          <h1>Configuration Successful!</h1>
          <p>
            Your config file has been saved.
            Reboot your device, join the same WiFi station (<span id="ssid"></span>) as the Solar Server and
            <a href="http://solar-server.local/" id="reboot-target">click here.</a>
            <a href="http://solar-server.local/" id="host-url"></a>
          </p>
          <p style="color: #ec971f">
            Note: Windows users will have to open the serial monitor before rebooting,
            and then copy and paste the URL: logged after reboot.  Unfortunately, Windows doesn't support mDNS.
          </p>
        </div>

        <footer class="footer">
          <p>&copy; 2017 Makacat, LLC.</p>
        </footer>

      </div> <!-- /container -->

</body>
</html>
